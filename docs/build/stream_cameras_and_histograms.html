
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>stream_cameras_and_histograms &#8212; 2DSHI 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="update_camera_configuration" href="update_camera_configuration.html" />
    <link rel="prev" title="main" href="main.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="update_camera_configuration.html" title="update_camera_configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="main.html" title="main"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">2DSHI 1.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-stream_cameras_and_histograms">
<span id="stream-cameras-and-histograms"></span><h1>stream_cameras_and_histograms<a class="headerlink" href="#module-stream_cameras_and_histograms" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="stream_cameras_and_histograms.add_histogram_representations">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">add_histogram_representations</code><span class="sig-paren">(</span><em class="sig-param">figure_a</em>, <em class="sig-param">figure_b</em>, <em class="sig-param">raw_array_a</em>, <em class="sig-param">raw_array_b</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.add_histogram_representations" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a matplotlib.pyplot.subplot to two matplotlib.pyplot.figure objects. The subplots are histograms of intensity
data from raw_array_a and raw_array_b.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>figure_a</strong> – </p></li>
<li><p><strong>figure_b</strong> – </p></li>
<li><p><strong>raw_array_a</strong> – </p></li>
<li><p><strong>raw_array_b</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An image array (3D [height, width, layers]) of the camera images and the corresponding histograms.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.clear_prev_run">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">clear_prev_run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.clear_prev_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new directory that corresponds to today’s date and time to save the videos/images in. Unlikely, but if
for some reason two runs happen within the same minute, overwrites first run to keep latest.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TODO Convert to dictionary? Separate Functionality?</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.clear_videos">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">clear_videos</code><span class="sig-paren">(</span><em class="sig-param">video_directory</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.clear_videos" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes any .tiff or .png image files created during previous runs that were saved in the specified directory.</p>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.convert_to_16_bit">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">convert_to_16_bit</code><span class="sig-paren">(</span><em class="sig-param">image_array</em>, <em class="sig-param">original_bit_depth=12</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.convert_to_16_bit" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an image array and represents it as 16 bit by multiplying all the values by the corresponding integer and
specifying the bit depth in the creation of a new 2D Numpy Array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_array</strong> (<em>numpy.ndarray</em>) – The original image array.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The same image represented</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.convert_to_8_bit">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">convert_to_8_bit</code><span class="sig-paren">(</span><em class="sig-param">image_array</em>, <em class="sig-param">original_bit_depth=12</em>, <em class="sig-param">grayscale_to_rgb=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.convert_to_8_bit" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO Add documentation.</p>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.create_and_save_videos">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">create_and_save_videos</code><span class="sig-paren">(</span><em class="sig-param">cam_a_frames_direc</em>, <em class="sig-param">cam_b_frames_direc</em>, <em class="sig-param">videos_directory</em>, <em class="sig-param">cams_by_hists_direc</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.create_and_save_videos" title="Permalink to this definition">¶</a></dt>
<dd><p>By iterating through all the saved frames, constructs a video for each camera.
:param cam_a_frames_direc: Directory that holds all the saved images for Camera A
:param cam_b_frames_direc: Directory that holds all the saved images for Camera B
:param videos_directory: Directory where all the video files will be saved</p>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.find_devices">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">find_devices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.find_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>If devices are connected to computer and number of cameras are connected , and number of devices connected is equal
to or below user specified limit, this function should return list of Basler device instances. Otherwise, raises a
a general Exception or a RuntimeError.
:raises Exception: Any error/exception other than ‘no such file or directory’.</p>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.get_cameras">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">get_cameras</code><span class="sig-paren">(</span><em class="sig-param">devices</em>, <em class="sig-param">tlFactory</em>, <em class="sig-param">config_files</em>, <em class="sig-param">num_cameras=2</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.get_cameras" title="Permalink to this definition">¶</a></dt>
<dd><p>Should be called AFTER and with the return value of find_devices() (as implied by the first parameter: devices)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>devices</strong> – An instance of tlFactory.EnumerateDevices()</p></li>
<li><p><strong>num_cameras</strong> (<em>int</em>) – An integer</p></li>
<li><p><strong>config_files</strong> – An integer</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>Exception</strong> – Any error/exception other than ‘no such file or directory’.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary of cameras with ascending lowercase alphabetical letters as keys.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.initialize_histograms">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">initialize_histograms</code><span class="sig-paren">(</span><em class="sig-param">bins</em>, <em class="sig-param">num_cameras=2</em>, <em class="sig-param">line_width=3</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.initialize_histograms" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes histogram matplotlib.pyplot figures/subplots.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bins</strong> – An instance of tlFactory.EnumerateDevices()</p></li>
<li><p><strong>num_cameras</strong> – An integer</p></li>
<li><p><strong>line_width</strong> – An integer</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>Exception</strong> – Any error/exception other than ‘no such file or directory’.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary of histograms with ascending lowercase alphabetical letters (that match cameras) as keys</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.reset_images_directory">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">reset_images_directory</code><span class="sig-paren">(</span><em class="sig-param">saved_imgs_directory</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.reset_images_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes any .tiff or .png image files created during previous runs that were saved in the specified directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>saved_imgs_directory</strong> – Path to the directory where you’d like to clear out .tiff/.png files.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.resize_img">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">resize_img</code><span class="sig-paren">(</span><em class="sig-param">image_array</em>, <em class="sig-param">new_width</em>, <em class="sig-param">new_height</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.resize_img" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO Add documentation.</p>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.save_img">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">save_img</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">directory</em>, <em class="sig-param">image</em>, <em class="sig-param">sixteen_bit=True</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.save_img" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO Add documentation.</p>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.set_plot_upper_bound">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">set_plot_upper_bound</code><span class="sig-paren">(</span><em class="sig-param">minimum_upper_bound</em>, <em class="sig-param">upper_bound_factor</em>, <em class="sig-param">maximum</em>, <em class="sig-param">plot</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.set_plot_upper_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusts the y-limit/upper-bound of a matplotlib.pyplot.subplot object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum_upper_bound</strong> – In the absence of data, default upper bound.</p></li>
<li><p><strong>upper_bound_factor</strong> – Factor to multiply the data maximum by.</p></li>
<li><p><strong>maximum</strong> – Image intensity histogram maximum.</p></li>
<li><p><strong>plot</strong> (<em>matplotlib.pyplot.subplot</em>) – Subplot that represents camera histogram.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.set_xvalues">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">set_xvalues</code><span class="sig-paren">(</span><em class="sig-param">polygon</em>, <em class="sig-param">x0</em>, <em class="sig-param">x1</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.set_xvalues" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a rectangular matplotlib.patches.Polygon object sets the horizontal values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>polygon</strong> – An instance of tlFactory.EnumerateDevices()</p></li>
<li><p><strong>x0</strong> – An integer</p></li>
<li><p><strong>x1</strong> – An integer</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>Exception</strong> – TODO Add some error handling.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.stream_cam_to_histograms">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">stream_cam_to_histograms</code><span class="sig-paren">(</span><em class="sig-param">cams_dict</em>, <em class="sig-param">figures</em>, <em class="sig-param">histograms_dict</em>, <em class="sig-param">lines</em>, <em class="sig-param">bins=4096</em>, <em class="sig-param">frame_break=1000</em>, <em class="sig-param">save_imgs=False</em>, <em class="sig-param">save_vids=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.stream_cam_to_histograms" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts grabbing for all cameras starting with index 0. The grabbing is started for one camera after the other.
That’s why the images of all cameras are not taken at the same time. However, a hardware trigger setup can be used
to cause all cameras to grab images synchronously. According to their default configuration, the cameras are set up
for free-running continuous acquisition. Also saves all the images and videos.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cams_dict</strong> (<em>dict</em>) – Dictionary of key-value pairs where they keys are ‘pypylon.pylon.InstantCamera’ or
‘pypylon.pylon.InstantCameraArray’ identifiers (‘a’, ‘b’, ‘all’) and the values are the InstantCamera and
InstantCameraArray objects.</p></li>
<li><p><strong>figures</strong> – Description</p></li>
<li><p><strong>histograms_dict</strong> – Description</p></li>
<li><p><strong>lines</strong> – Description</p></li>
<li><p><strong>bins</strong> – Description</p></li>
<li><p><strong>frame_break</strong> – Limit of frames to record. Default -1 (Frame count starts at 0, so if left at default of -1,
cameras will stream indefinitely or until manually interrupted)</p></li>
<li><p><strong>fps</strong> – Frames per second saved video will play at. Default 1.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="stream_cameras_and_histograms.update_histogram">
<code class="sig-prename descclassname">stream_cameras_and_histograms.</code><code class="sig-name descname">update_histogram</code><span class="sig-paren">(</span><em class="sig-param">histogram_dict</em>, <em class="sig-param">lines_dict</em>, <em class="sig-param">identifier</em>, <em class="sig-param">bins</em>, <em class="sig-param">raw_2d_array</em>, <em class="sig-param">threshold=1.2</em><span class="sig-paren">)</span><a class="headerlink" href="#stream_cameras_and_histograms.update_histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates histograms for a given camera given the histogram of intensity values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>histogram_dict</strong> – TODO Add Description</p></li>
<li><p><strong>lines_dict</strong> – TODO Add Description</p></li>
<li><p><strong>identifier</strong> – TODO Add Description</p></li>
<li><p><strong>bins</strong> – TODO Add Description</p></li>
<li><p><strong>raw_2d_array</strong> – TODO Add Description</p></li>
<li><p><strong>threshold</strong> – TODO Add Description</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>Exception</strong> – TODO Add Description</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>TODO Add Description</p>
</dd>
</dl>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="find_gaussian_profile.html">find_gaussian_profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html">main</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">stream_cameras_and_histograms</a></li>
<li class="toctree-l1"><a class="reference internal" href="update_camera_configuration.html">update_camera_configuration</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/stream_cameras_and_histograms.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="update_camera_configuration.html" title="update_camera_configuration"
             >next</a> |</li>
        <li class="right" >
          <a href="main.html" title="main"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">2DSHI 1.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Iván Sepulveda.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>